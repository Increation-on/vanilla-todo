/**
 * –ú–û–î–£–õ–¨: –ì–õ–ê–í–ù–´–ô –ó–ê–ü–£–°–ö –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø (main.js)
 * 
 * –ó–ê–ß–ï–ú –ù–£–ñ–ï–ù: –ö–æ–Ω—Ç—Ä–æ–ª—å –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
 * 
 * –ê–†–•–ò–¢–ï–ö–¢–£–†–ê: Entry Point - –∑–Ω–∞–µ—Ç –ö–û–ì–î–ê –∑–∞–ø—É—Å–∫–∞—Ç—å, –Ω–æ –Ω–µ –ö–ê–ö
 * - –ñ–¥–µ—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ DOM
 * - –í—ã–∑—ã–≤–∞–µ—Ç –µ–¥–∏–Ω—É—é —Ç–æ—á–∫—É –≤—Ö–æ–¥–∞
 * - –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –æ—à–∏–±–∫–∏
 * 
 * –ü–†–ò–ù–¶–ò–ü: –ú–∏–Ω–∏–º–∞–ª–∏–∑–º - —á–µ–º –º–µ–Ω—å—à–µ –ª–æ–≥–∏–∫–∏, —Ç–µ–º –Ω–∞–¥–µ–∂–Ω–µ–µ
 */

import { initApp } from './event-handlers.js'
import { resetTaskStorage } from './storage.js'

/**
 * –ó–ê–ü–£–°–ö –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø –ü–†–ò –ì–û–¢–û–í–ù–û–°–¢–ò DOM
 * 
 * –ü–û–ß–ï–ú–£ DOMContentLoaded:
 * - –ë–µ–∑–æ–ø–∞—Å–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å —Å DOM-—ç–ª–µ–º–µ–Ω—Ç–∞–º–∏
 * - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å—Ä–∞–∑—É –≥–æ—Ç–æ–≤—ã–º
 * - –ò–∑–±–µ–≥–∞–µ–º –æ—à–∏–±–æ–∫ "element not found"
 * 
 * –ß–¢–û –ü–†–û–ò–°–•–û–î–ò–¢: 
 * - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö (–∑–∞–¥–∞—á–∏ –∏–∑ localStorage)
 * - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ (–∫–Ω–æ–ø–∫–∏, –Ω–∞–≤–∏–≥–∞—Ü–∏—è)  
 * - –ó–∞–ø—É—Å–∫ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏
 * 
 * –í–°–Ø –°–õ–û–ñ–ù–û–°–¢–¨ —Å–∫—Ä—ã—Ç–∞ –≤ initApp()
 */
document.addEventListener('DOMContentLoaded', () => {
    resetTaskStorage()
    initApp() // üöÄ –û–¥–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ - –≤–µ—Å—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
})

/**
 * –ì–õ–û–ë–ê–õ–¨–ù–´–ô –ü–ï–†–ï–•–í–ê–¢–ß–ò–ö –û–®–ò–ë–û–ö
 * 
 * –õ–û–í–ò–¢: –ù–µ–ø–æ–π–º–∞–Ω–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –≤–æ –≤—Å–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
 * –ß–¢–û –î–ï–õ–ê–ï–¢: –õ–æ–≥–∏—Ä—É–µ—Ç –æ—à–∏–±–∫–∏, –Ω–µ –¥–∞–≤–∞—è —É–ø–∞—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é
 * 
 * –ó–ê–ß–ï–ú: –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å "–±–µ–ª—ã–π —ç–∫—Ä–∞–Ω" –ø—Ä–∏ —Å–ª—É—á–∞–π–Ω—ã—Ö –±–∞–≥–∞—Ö
 */
window.addEventListener('error', (event) => {
    console.error('–ì–ª–æ–±–∞–ª—å–Ω–∞—è –æ—à–∏–±–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:', event.error)
    // –í –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ: –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –≤ —Å–∏—Å—Ç–µ–º—É –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
})

// üí° –ê–†–•–ò–¢–ï–ö–¢–£–†–ù–´–ô –ö–û–ú–ú–ï–ù–¢–ê–†–ò–ô:
// main.js –Ω–µ –¥–æ–ª–∂–µ–Ω –∑–Ω–∞—Ç—å –æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –º–æ–¥—É–ª—è—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
// –ï–≥–æ –∑–∞–¥–∞—á–∞ - –±—ã—Ç—å "–∫–Ω–æ–ø–∫–æ–π –≤–∫–ª—é—á–µ–Ω–∏—è" –≤—Å–µ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞.
// –ï—Å–ª–∏ –∏–∑–º–µ–Ω–∏—Ç—Å—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞, main.js –æ—Å—Ç–∞–Ω–µ—Ç—Å—è –Ω–µ–∏–∑–º–µ–Ω–Ω—ã–º.

// üîÆ –í–û–ó–ú–û–ñ–ù–´–ï –£–õ–£–ß–®–ï–ù–ò–Ø:
// - –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏ –ø–µ—Ä–µ–¥ DOMContentLoaded
// - –û—á–∏—Å—Ç–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤ –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ –≤–∫–ª–∞–¥–∫–∏ (beforeunload)
// - –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ —Å–±–æ–µ–≤ (retry logic)